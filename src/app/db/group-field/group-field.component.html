


<div *ngIf="!isObjectEmpty(fieldGroupValues)">

	<div *ngFor="let key of keysOfObject(fieldGroupValues);">
	<div *ngIf="keysOfFieldProperties.indexOf(key) === -1">
		
		<br />

		<fieldset *ngIf="!fieldGroupValues[key]['_f']">

			<legend>{{fieldGroupValues[key]['_t']}}</legend>

			<div *ngIf="fieldGroupValues[key]['_m'] > 0">

				<div class="lns_sub_fields_border" >

					<button md-button-raised color="warn" (click)="removeValue(key)">Remove {{key}}</button>

					<app-db-group-field	
					[fieldGroupValues]="tableRecordValues[key]"
					[fieldGroupStructure]="tableRecordStructure[key]"
					(emitingfieldGroupValues)="updatefieldGroupValues(key, $event, 3)"
					></app-db-group-field>

				</div>

			</div>

			<div *ngIf="fieldGroupValues[key]['_m'] == 0">

				<app-db-group-field	
				[fieldGroupValues]="tableRecordValues[key]"
				[fieldGroupStructure]="tableRecordStructure[key]"
				(emitingfieldGroupValues)="updatefieldGroupValues(key, $event, 4)"
				></app-db-group-field>

			</div>

		</fieldset>


		<div *ngIf="fieldGroupValues[key]['_f']">


			<div *ngIf="fieldGroupValues[key]['_m'] > 0">

				<div class="lns_sub_fields_border" >

					<button md-button-raised color="warn" (click)="removeValue(key)">Remove {{key}}</button>

					<app-db-field
					[fieldValue]="fieldGroupValues[key]['_v']"
					[fieldProperties]="applyFieldValue(fieldGroupValues, key)"
					(emitingFieldValue)="updateFieldValue(key, $event, 1)"
					></app-db-field>

				</div>

			</div>

			<div *ngIf="fieldGroupValues[key]['_m'] == 0">

				<app-db-field
				[fieldValue]="fieldGroupValues[key]['_v']"
				[fieldProperties]="applyFieldValue(fieldGroupValues, key)" 
				(emitingFieldValue)="updateFieldValue(key, $event, 2)"
				></app-db-field>

			</div>

		</div>

	</div>
	</div>

</div>

<div *ngIf="isObjectEmpty(fieldGroupValues)">
	<button md-button (click)="addNewField(1)">Add First Field</button>
</div>
<div *ngIf="!isObjectEmpty(fieldGroupValues)">
	<button md-button (click)="addNewField(0)">Add Next Field</button>
</div>				